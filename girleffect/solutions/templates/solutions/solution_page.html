{% extends "base.html" %}
{% load wagtailcore_tags wagtailimages_tags static %}

{% block body_class %}template-solution-page template-{{page.slug}}{% endblock %}

{% block content %}

    {# Hero section - section includes links #}
    {% include "includes/hero_video_section.html" %}

    <div class="brand-pattern"></div>

    {% block breadcrumbs %}
        {% include "navigation/breadcrumbs.html" %}
    {% endblock %}

    {# Streamfield options #}
    <section class="section section--body">
        {{ page.body }}
    </section>

    {# Related partners #}
    {% if page.partners %}
        <section class="section section--partners">
            <h2 class="section__title">Our partners</h2>
            <div class="media-block-container">
                {% for partner in page.partners %}
                    {# Partner card here #}
                    {% include "includes/partner_card.html" with partner=partner %}
                {% endfor %}
            </div>
        </section>
    {% endif %}

    {# Related people #}
    {% if page.people %}
    <section class="section section__people">
        <h2 class="section__title">People</h2>
        <h3>{{ page.person_category }}</h3>
        {% for person in page.people %}
            {# Person card here #}
            {% include "includes/person_index_card.html" with person=person %}
        {% endfor %}
    </section>
    {% endif %}

    {# Call to Action, link is likely external #}
    {% if page.call_to_action %}
        <section class="cta">
            {% include "includes/call_to_action.html" %}
        </section>
    {% endif %}

    {# Latest articles, limited to three most recent, link to all articles index #}
    {% if page.articles %}
    <section class="section section--articles">
        <h2 class="section__title">Latest in {{ page.title }}</h2>
        <div class="article-container wrapper wrapper--medium">
            {% for article in page.articles %}
                {% include "includes/article_card.html" %}
            {% endfor %}
        </div>
        <div class="wrapper wrapper--center">
            <a class="link link--boxed link--center" href="/articles">
                See all news
                <span></span>
                <span></span>
            </a>
        </div>
    </section>
    {% endif %}

{% endblock %}
